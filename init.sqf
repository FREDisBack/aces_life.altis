enableSaving [false, false];

X_Server = false;
X_Client = false;
X_JIP = false;
StartProgress = false;

//get rit of the grass
setTerrainGrid 50;    //(Hi)12.5 or 25(Med) or 50(Low)

if(!isDedicated) then { X_Client = true;};
enableSaving[false,false];

life_versionInfo ="Altis Life RPG v3.1.4.8";
//###############################################################################################################################################################
//                                                            ACES
//###############################################################################################################################################################
//***************************************************************************************************************************************************************
[] execVM"briefing.sqf"; //Load Briefing
//***************************************************************************************************************************************************************
[] execVM"KRON_Strings.sqf";
//***************************************************************************************************************************************************************
[] execVM "CLAY_CarRadio\initCarRadio.sqf"; //                        КОМЕНТАРИЙ: Радио в машине
//***************************************************************************************************************************************************************
//[] execVM "scripts\D41_Wetter.sqf";
//***************************************************************************************************************************************************************
//null = allUnits execVM "H8_dragBody.sqf";
//***************************************************************************************************************************************************************
[] execVM "scripts\screwpets.sqf";
//***************************************************************************************************************************************************************
[] execVM "scripts\emptyfuelstations.sqf";
//***************************************************************************************************************************************************************
[] execVM "scripts\removesnakes.sqf";  //                            КОМЕНТАРИЙ: Удаление змей ТЕСТ
//***************************************************************************************************************************************************************
//[] execVM "snowfall.sqf"; // Вкл\Выкл                              КОМЕНТАРИЙ: Выключен P.S Интенсивный
//***************************************************************************************************************************************************************
//[] execVM "scripts\snowfall.sqf"; // Вкл\Выкл                      КОМЕНТАРИЙ: Выключен P.S Мало интенсивный
//***************************************************************************************************************************************************************

//***************************************************************************************************************************************************************
[] execVM "scripts\message.sqf"; // Сообщение на сервере
//***************************************************************************************************************************************************************
[] execVM "safezone.sqf";
//***************************************************************************************************************************************************************
"colorCorrections" ppEffectAdjust [1, 1, 0, [0, 0, 0, 0], [1, 0.8, 0.6, 1.5], [-0.28, 0.71, 0.57, 0]];
"colorCorrections" ppEffectCommit 0;
"colorCorrections" ppEffectEnable true;
//***************************************************************************************************************************************************************
//[] execVM "scripts\Visuals.sqf";
//***************************************************************************************************************************************************************
//***************************************************************************************************************************************************************
[] execVM "scripts\DynamicWeatherEffects.sqf";
//***************************************************************************************************************************************************************

//***************************************************************************************************************************************************************

//waitUntil {!isNull player && isPlayer player};//////////////////////////////////////////////////////////////
if (!isServer && isNull player) then {isJIP=true;} else {isJIP=false;};
if (!isDedicated) then {waitUntil {!isNull player && isPlayer player};};
{_x setvariable ["BIS_noCoreConversations", true, true]} foreach allunits;

action123 = 0;

if(isDedicated && isNil("life_market_prices")) then
{
	[] call life_fnc_marketconfiguration;
	diag_log "Martpreise generiert!";
	
	"life_market_prices" addPublicVariableEventHandler
	{
		diag_log format["Martpreise geupdate:! %1", _this select 1];
	};
};
RscSpectator_allowFreeCam = false;
//***************************************************************************************************************************************************************
StartProgress = true;
//***************************************************************************************************************************************************************
[] execVM "scripts\teargas.sqf";
//***************************************************************************************************************************************************************
[] execVM "welcomeMessage.sqf";
//***************************************************************************************************************************************************************

//***************************************************************************************************************************************************************
waitUntil {time > 0};

execVM "statSave\saveFuncs.sqf";
waitUntil {!isNil "saveFuncsLoaded"};

if(isServer) then
{
	_serverHasID = profileNameSpace getVariable ["ss_ServerID",nil];
	if(isNil "_serverHasID") then
	{
		_serverID = str(round((random(100000)) + random 10000));
		profileNameSpace setVariable ["SS_ServerID",_serverID];
	};
	serverID = profileNameSpace getVariable "ss_ServerID";
	publicVariable "serverID";
};

waitUntil {!isNil "serverID"};


if(!isDedicated) then
{
	execVM "statSave\loadAccount.sqf";
	execVM "statSave\saveLoop.sqf";
};

//***************************************************************************************************************************************************************
//Disable chat !
[] execVM "scripts\disableChat.sqf";
//***************************************************************************************************************************************************************


MAC_fnc_switchMove = {
    private["_object","_anim"];
    _object = _this select 0;
    _anim = _this select 1;

    _object switchMove _anim;
    
};
//***************************************************************************************************************************************************************

[] spawn
{
    sleep 30;
    [] call life_fnc_updateClothing;
};
//***************************************************************************************************************************************************************

/////////////////////////////////////
//    Réglage Task Force Radio     //
/////////////////////////////////////
tf_radio_channel_name = "ACES LIFE - TASK FORCE RADIO";  // Nom du Channel TeamSpeak
tf_radio_channel_password = "7tuh9opfdsfg";  // Mot de passe du channel TeamSpeak
TF_terrain_interception_coefficient = 5.0;  // Réglage de l'interception sur le terrain
player setVariable ["tf_unable_to_use_radio", false];  // Permet d'autoriser la radio ou non ( False = autoriser, true = refuser )
tf_no_auto_long_range_radio = true;  // Permet de donner une radio long porter ou non 
//******************************************************************************************************************************************************

onPlayerDisconnected { [_id, _name, _uid] call compile preProcessFileLineNumbers "core\functions\fn_onPlayerDisconnect.sqf" };{ [_id, _name, _uid] call compile preProcessFileLineNumbers "core\functions\fn_onPlayerDisconnect.sqf" };
addMissionEventHandler ['HandleDisconnect',{deleteVehicle (_this select 0);}];['HandleDisconnect',{deleteVehicle (_this select 0);}];